#
# Check for:
#
# - 1 OpenStackBaremetalSet
# - 1 OpenStackProvisionServer
# - 1 OpenStackIpSet
#

apiVersion: osp-director.openstack.org/v1beta1
kind: OpenStackBaremetalSet
metadata:
  finalizers:
  - baremetalset.osp-director.openstack.org-compute
  name: compute
  namespace: openstack
spec:
  baseImageUrl: http://192.168.111.1/images/rhel-guest-image-8.4-1168.x86_64.qcow2
  count: 0
  ctlplaneInterface: enp7s0
  deploymentSSHSecret: osp-controlplane-ssh-keys
  networks:
  - ctlplane
  - internal_api
  - tenant
  passwordSecret: userpassword
  roleName: Compute
status:
  conditions:
  - message: No BaremetalHosts have been requested
    reason: No BaremetalHosts have been requested
    status: "True"
    type: Empty
  provisioningStatus:
    reason: No BaremetalHosts have been requested
    state: Empty
---
apiVersion: osp-director.openstack.org/v1beta1
kind: OpenStackProvisionServer
metadata:
  name: compute-provisionserver
  namespace: openstack
spec:
  apacheImageUrl: registry.redhat.io/rhel8/httpd-24@sha256:162cc35b2edb9054d29293ed3f0f98f195cf16647e89c3b8c7a4e911606ef4fd                                              
  baseImageUrl: http://192.168.111.1/images/rhel-guest-image-8.4-1168.x86_64.qcow2                                                                                       
  downloaderImageUrl: quay.io/openstack-k8s-operators/rhel-downloader@sha256:1a1caa9c2841f6aa66e385c3a21b9d084fd039c02b85e0a78722ededbed0bc22                            
  port: 6190
  provisioningAgentImageUrl: quay.io/openstack-k8s-operators/provision-ip-discovery-agent@sha256:22db35fb3fb4bb2d67a29f6db46ca8cbd8a903cc4f3437cfaec11f2b6b6d3b6b 
status:
  conditions:
  - message: ProvisionServer compute-provisionserver has been provisioned
    reason: ProvisionServer compute-provisionserver has been provisioned
    status: "True"
    type: Provisioned
  localImageUrl: http://172.22.0.220:6190/images/rhel-guest-image-8.4-1168.x86_64.qcow2/compressed-rhel-guest-image-8.4-1168.x86_64.qcow2                                
  provisionIp: 172.22.0.220
  provisioningStatus:
    reason: ProvisionServer compute-provisionserver has been provisioned
    state: Provisioned
---
apiVersion: osp-director.openstack.org/v1beta1
kind: OpenStackIPSet
metadata:
  finalizers:
  - osp-director.openstack.org
  labels:
    addToPredictableIPsLabel: "true"
  name: compute
  namespace: openstack
spec:
  addToPredictableIPs: true
  hostCount: 0
  hostNameRefs: {}
  networks:
  - ctlplane
  - internal_api
  - tenant
  roleName: Compute
  vip: false
